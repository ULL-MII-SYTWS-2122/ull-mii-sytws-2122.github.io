<!doctype html>
<html lang=" en-US ">

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=b0e45fc5efc699fc31bbb13416b91cab3909fc6f">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/assets/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css">
    <![endif]-->

    
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        
    
</head>

<body>
    <div id="header">
            <nav>
    <ul>
        <li><a href="https://github.com/ULL-MII-SYTWS/ull-mii-sytws.github.io-source/tree/main//tema1-introduccion/gh-workflows.md" title="Edit this page at GitHub">üêô</a>
        </li>
        <li><a href="/search" title="search">&#x1F50D;</a></li>
        <li><a href="/resources.html" title="resources">&#x2699</a></li>
        <li><a href="/timetables.html" title="horarios">&#x1f5d3</a></li>
        <li><a href="/references.html" title="bibliografia">&#x1f4da</a></li>
        <li><a href="/practicas.html" title="pr√°cticas">&#x270d</a></li>
        <li><a href="/clases.html" title="clases">üë®‚Äçüè´</a></li>
        <li><a href="/index.html" title="Home page">&#x1f3e0</a></li>
        <li><a href="/tema0-presentacion/" title="Tema 0: Presentaci√≥n">0</a></li>
        <li><a href="/tema1-introduccion/" title="Tema 1: introducci√≥n">1</a></li>
        <li><a href="/tema2-async/" title="Tema 2: Async">2</a></li>
        <li><a href="/tema3-web/" title="Tema 3: Web">3</a></li>
        <li><a href="/tema4-devops/" title="Tema 4: Devops">4</a></li>
        
    </ul>
    </nav>

    </div>
    <!-- end header -->


    <div class="wrapper">

        <section>
           
<div id="title">
        <h1>Sistemas y Tecnolog√≠as Web: Servidor</h1>
        <p> Master de II. ULL. 1er cuatrimestre</p>
        <hr>
        <span class="credits left">Organization <a href="https://github.com/ULL-MII-SYTWS-2122" target="_blank">ULL-MII-SYTWS-2122</a></span>
        <span class="credits left"> &nbsp; Classroom <a href="https://classroom.github.com/classrooms/90842007-ull-mii-sytws-2122" target="_blank">ULL-MII-SYTWS-2122</a></span>
        <span class="credits left"> &nbsp; Campus Virtual <a href="https://campusdoctoradoyposgrado2122.ull.es/course/view.php?id=2122110810" target="_blank">SYTWS</a></span>
        <span class="credits left"> &nbsp; Chat <a href="https://chat.google.com/u/1/room/AAAAp18fCE8" target="_blank">Chat</a></span>
        <span class="credits left"> &nbsp; Profesor <a href="https://www.ull.es/apps/guias/guias/view_teacher_niu/837/crguezl/" target="_blank">Casiano</a></span>
    </div>

<!--

<div id="title">
    <h1>Sistemas y Tecnolog√≠as Web: Servidor</h1>
    <p> Master de II. ULL. 1er cuatrimestre</p>
    <hr>
    <span class="credits left">Organization <a href="https://github.com/ULL-MII-SYTWS"
            target="_blank">ULL-MII-SYTWS</a></span>
    <span class="credits left"> &nbsp; Github Classroom <a
            href="https://classroom.github.com/classrooms/55384072-master-de-ingenieria-informatica-sistemas-y-tecnologias-web-servidor-classroom"
            target="_blank">SYTWS 19/20</a></span>
    <span class="credits left"> &nbsp; Campus Virtual <a
            href="https://campusvirtual.ull.es/1920/course/view.php?id=201913778" target="_blank">SYTWS
            19/20</a></span>
    <span class="credits left"> &nbsp; Profesor <a
            href="https://www.ull.es/apps/guias/guias/view_teacher_niu/588/(%3FPcrguezl.*)/"" target="
            _blank">Casiano</a></span>
</div>
-->    


           
            <h2 >Table of Contents</h2>
           
            <ul id="sytwstoc">
  <li><a href="#gh-workflows">gh workflows</a>
    <ul>
      <li><a href="#gh-workflow-commands">gh workflow commands</a></li>
      <li><a href="#gh-workflow-list">gh workflow list</a></li>
      <li><a href="#gh-workflow-view">gh workflow view</a></li>
      <li><a href="#gh-workflow-run">gh workflow run</a></li>
      <li><a href="#running-manually-a-workflow">Running Manually a Workflow</a></li>
    </ul>
  </li>
</ul>
        
            <h1> gh workflows </h1>
            <div class="container">
                <h1 id="gh-workflows">gh workflows</h1>

<p>A partir de la versi√≥n 1.9 tenemos el comando <code class="language-plaintext highlighter-rouge">gh workflow</code> para poder acceder a nuestros github workflows desde la terminal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>‚úó gh --version
gh version 1.9.1 (2021-04-15)
https://github.com/cli/cli/releases/tag/v1.9.1
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="gh-workflow-commands">gh workflow commands</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>‚úó gh help workflow
List, view, and run workflows in GitHub Actions.

USAGE
  gh workflow &lt;command&gt; [flags]

CORE COMMANDS
  disable:    Disable a workflow
  enable:     Enable a workflow
  list:       List workflows
  run:        Run a workflow by creating a workflow_dispatch event
  view:       View the summary of a workflow

FLAGS
  -R, --repo [HOST/]OWNER/REPO   Select another repository using the [HOST/]OWNER/REPO format

INHERITED FLAGS
  --help   Show help for command

LEARN MORE
  Use 'gh &lt;command&gt; &lt;subcommand&gt; --help' for more information about a command.
  Read the manual at https://cli.github.com/manual
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="gh-workflow-list">gh workflow list</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>‚ûú  please-Daniel-del-Castillo git:(main) ‚úó gh workflow list
Test  active  8116703
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="gh-workflow-view">gh workflow view</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre>‚ûú  please-Daniel-del-Castillo git:(main) ‚úó gh workflow view
? Select a workflow Test (test.yaml)
Test - test.yaml
ID: 8116703

Total runs 21
Recent runs
‚úì  1.1.1                                                                Test  v1.1.1  push  755714052
‚úì  1.1.1                                                                Test  main    push  755713933
‚úì  Merge branch 'main' of github.com:ULL-ESIT-PL-2021/please-Daniel...  Test  main    push  755346331
‚úì  Update README.md                                                     Test  main    push  755342257
‚úì  Add a REPL                                                           Test  main    push  755328010

To see more runs for this workflow, try: gh run list --workflow test.yaml
To see the YAML for this workflow, try: gh workflow view test.yaml --yaml
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre>‚ûú  please-Daniel-del-Castillo git:(main) ‚úó gh workflow view --help
View the summary of a workflow

USAGE
  gh workflow view [&lt;workflow-id&gt; | &lt;workflow-name&gt; | &lt;filename&gt;] [flags]

FLAGS
  -r, --ref string   The branch or tag name which contains the version of the workflow file you'd like to view
  -w, --web          Open workflow in the browser
  -y, --yaml         View the workflow yaml file

INHERITED FLAGS
      --help                     Show help for command
  -R, --repo [HOST/]OWNER/REPO   Select another repository using the [HOST/]OWNER/REPO format

EXAMPLES
  # Interactively select a workflow to view
  $ gh workflow view
  
  # View a specific workflow
  $ gh workflow view 0451

LEARN MORE
  Use 'gh &lt;command&gt; &lt;subcommand&gt; --help' for more information about a command.
  Read the manual at https://cli.github.com/manual
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="gh-workflow-run">gh workflow run</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre> ‚úó gh help workflow run
Create a workflow_dispatch event for a given workflow.

This command will trigger GitHub Actions to run a given workflow file.  
The given workflow file must support a workflow_dispatch 'on' 
trigger in order to be run in this way.

If the workflow file supports inputs, they can be specified in a few ways:

- Interactively
- via -f or -F flags
- As JSON, via STDIN
 

USAGE
  gh workflow run [&lt;workflow-id&gt; | &lt;workflow-name&gt;] [flags]

FLAGS
  -F, --field key=value       Add a string parameter in key=value format, respecting @ syntax
      --json                  Read workflow inputs as JSON via STDIN
  -f, --raw-field key=value   Add a string parameter in key=value format
  -r, --ref string            The branch or tag name which contains the version of the workflow file you'd like to run

INHERITED FLAGS
      --help                     Show help for command
  -R, --repo [HOST/]OWNER/REPO   Select another repository using the [HOST/]OWNER/REPO format

EXAMPLES
  # Have gh prompt you for what workflow you'd like to run and interactively collect inputs
  $ gh workflow run
  
  # Run the workflow file 'triage.yml' at the remote's default branch
  $ gh workflow run triage.yml
  
  # Run the workflow file 'triage.yml' at a specified ref
  $ gh workflow run triage.yml --ref my-branch
  
  # Run the workflow file 'triage.yml' with command line inputs
  $ gh workflow run triage.yml -f name=scully -f greeting=hello
  
  # Run the workflow file 'triage.yml' with JSON via standard input
  $ echo '{"name":"scully", "greeting":"hello"}' | gh workflow run triage.yml --json

LEARN MORE
  Use 'gh &lt;command&gt; &lt;subcommand&gt; --help' for more information about a command.
  Read the manual at https://cli.github.com/manual
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="running-manually-a-workflow">Running Manually a Workflow</h2>

<p>Set this workflow file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>‚ûú  use-hello-world-javascript-action git:(master) cat .github/workflows/manual.yml
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="na">name</span><span class="pi">:</span> <span class="s">Manually triggered workflow</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">workflow_dispatch</span><span class="pi">:</span>
    <span class="na">inputs</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Person</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">greet'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">default</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Mona</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">Octocat'</span>
      <span class="na">home</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s1">'</span><span class="s">location'</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
        <span class="na">default</span><span class="pi">:</span> <span class="s1">'</span><span class="s">The</span><span class="nv"> </span><span class="s">Octoverse'</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">say_hello</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="s">echo "Hello $!"</span>
        <span class="s">echo "- in $!"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>This example defines the <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">home</code> inputs and prints them using the <code class="language-plaintext highlighter-rouge">github.event.inputs.name</code> and <code class="language-plaintext highlighter-rouge">github.event.inputs.home</code> contexts. If a home isn‚Äôt provided, the default value <code class="language-plaintext highlighter-rouge">'The Octoverse'</code> is printed.</p>

<p>You can use the GitHub API to trigger a webhook event called <code class="language-plaintext highlighter-rouge">repository_dispatch</code> when you want to trigger a workflow for activity that happens outside of GitHub.</p>

<p>For more information, see ‚Äú<a href="https://docs.github.com/en/rest/reference/repos#create-a-repository-dispatch-event">Create a repository dispatch event</a>.‚Äù</p>

<p>To trigger the custom <code class="language-plaintext highlighter-rouge">repository_dispatch</code> webhook event, you must send a <code class="language-plaintext highlighter-rouge">POST</code> request to a GitHub API endpoint and provide an <code class="language-plaintext highlighter-rouge">event_type</code> name to describe the activity type. To trigger a workflow run, you must also configure your workflow to use the <code class="language-plaintext highlighter-rouge">repository_dispatch</code> event.</p>

<p>Now, using <code class="language-plaintext highlighter-rouge">gh</code> we can run it manually:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>‚ûú  use-hello-world-javascript-action git:(master) gh workflow run manual.yml -f name="PL at ULL" -f home="La Laguna"
‚úì Created workflow_dispatch event for manual.yml at master

To see runs for this workflow, try: gh run list --workflow=manual.yml
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>‚ûú  use-hello-world-javascript-action git:(master) gh run list --workflow=manual.yml
‚úì  .github  Manually triggered workflow  master  workflow_dispatch  758223539

For details on a run, try: gh run view &lt;run-id&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>‚ûú  use-hello-world-javascript-action git:(master) gh run view 758223539
Refreshing run status every 3 seconds. Press Ctrl+C to quit.

‚úì master Manually triggered workflow ¬∑ 758227829
Triggered via workflow_dispatch less than a minute ago

JOBS
‚úì say_hello in 1s (ID 2368935232)
  ‚úì Set up job
  ‚úì Run echo "Hello PL at ULL!"
  ‚úì Complete job

‚úì Run Manually triggered workflow (758227829) completed with 'success'
</pre></td></tr></tbody></table></code></pre></div></div>


                
            </div>
  
                        
<h2>Comment with GitHub Utterances</h2>
            
<script src="https://utteranc.es/client.js"
        repo="ULL-MII-SYTWS/ull-mii-sytws.github.io"
        issue-term="pathname"
        label="SYTWS"
        theme="dark-blue"
        crossorigin="anonymous"
        async>
</script>
            



 
            <!-- -->
            <!-- end bar -->

            <!-- Mathjax Support  -->
            <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


        </section>
    </div>


    
</body>

</html>
