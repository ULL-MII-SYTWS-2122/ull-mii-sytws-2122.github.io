<!doctype html>
<html lang=" en-US ">

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=1e0142347d8c8dccb643477a616ca18b3774f8fa">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/assets/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

</head>

<body>
    <div id="header">
        <nav>
  <ul>
    <li><a href="/search" title="search">&#x1F50D;</a></li>
    <!--
    <li><a href="#sytwstoc" title="Table of Contents">‚â°</a></li>
    -->

      
    <li><a href="/clases/2021/11/03/leccion.html" title="Previous">&#x2190;</a></li>
    
    
    <li><a href="https://github.com/ULL-MII-SYTWS/ull-mii-sytws.github.io-source/tree/main//_posts/2021-11-08-leccion.md" title="Edit this page at GitHub">üêô</a>
    <li><a href="/references.html" title="Bibliograf√≠a">&#x1f4da</a></li>
    <li><a href="/practicas.html" title="Pr√°cticas">&#x270d</a></li>
    <li><a href="/clases.html" title="Clases">üë®‚Äçüè´</a></li>
    <li><a href="/" title="Home page">&#x1f3e0</a></li>
    <li><a href="/tema0-presentacion/" title="Tema 0: Presentaci√≥n">0</a></li>
    <li><a href="/tema1-introduccion/" title="Tema 1: Introducci√≥n">1</a></li>
    <li><a href="/tema2-async/" title="Tema 2: Async">2</a></li>
    <li><a href="/tema3-web/" title="Tema 3: Web">3</a></li>
    <li><a href="/tema4-devops/" title="Tema 4: Devop">4</a></li>
    
    </li>
    </ul>
</nav>

    </div>
    <!-- end header -->


    <div class="wrapper">

        <section>
            
<div id="title">
        <h1>Sistemas y Tecnolog√≠as Web: Servidor</h1>
        <p> Master de II. ULL. 1er cuatrimestre</p>
        <hr>
        <span class="credits left">Organization <a href="https://github.com/ULL-MII-SYTWS-2122" target="_blank">ULL-MII-SYTWS-2122</a></span>
        <span class="credits left"> &nbsp; Classroom <a href="https://classroom.github.com/classrooms/90842007-ull-mii-sytws-2122" target="_blank">ULL-MII-SYTWS-2122</a></span>
        <span class="credits left"> &nbsp; Campus Virtual <a href="https://campusdoctoradoyposgrado2122.ull.es/course/view.php?id=2122110810" target="_blank">SYTWS</a></span>
        <span class="credits left"> &nbsp; Chat <a href="https://chat.google.com/u/1/room/AAAAp18fCE8" target="_blank">Chat</a></span>
        <span class="credits left"> &nbsp; Profesor <a href="https://www.ull.es/apps/guias/guias/view_teacher_niu/837/crguezl/" target="_blank">Casiano</a></span>
    </div>

<!--

<div id="title">
    <h1>Sistemas y Tecnolog√≠as Web: Servidor</h1>
    <p> Master de II. ULL. 1er cuatrimestre</p>
    <hr>
    <span class="credits left">Organization <a href="https://github.com/ULL-MII-SYTWS"
            target="_blank">ULL-MII-SYTWS</a></span>
    <span class="credits left"> &nbsp; Github Classroom <a
            href="https://classroom.github.com/classrooms/55384072-master-de-ingenieria-informatica-sistemas-y-tecnologias-web-servidor-classroom"
            target="_blank">SYTWS 19/20</a></span>
    <span class="credits left"> &nbsp; Campus Virtual <a
            href="https://campusvirtual.ull.es/1920/course/view.php?id=201913778" target="_blank">SYTWS
            19/20</a></span>
    <span class="credits left"> &nbsp; Profesor <a
            href="https://www.ull.es/apps/guias/guias/view_teacher_niu/588/(%3FPcrguezl.*)/"" target="
            _blank">Casiano</a></span>
</div>
-->    

            
            



            <h2 >Table of Contents</h2>
            
            <ul id="sytwstoc">
  <li><a href="#exercises-on-asynchronous-js">Exercises on Asynchronous JS</a>
    <ul>
      <li><a href="#comparing-performances-sync-vs-async-and-rest-vs-graphql-in-the-gh-org-members-extension">Comparing Performances: Sync vs Async and REST vs GraphQL in the gh-org-members extension</a></li>
      <li><a href="#in-the-gh-submodule-extension">In the gh-submodule extension</a></li>
      <li><a href="#parallel-graphql">Parallel GraphQL</a></li>
    </ul>
  </li>
  <li><a href="#notes-about-the-lab-github-cli">Notes about the Lab ‚ÄúGitHub Cli‚Äù</a></li>
  <li><a href="#lab-graphql-simple-server">Lab: GraphQL-Simple-Server</a></li>
  <li><a href="#lab-npm-module">Lab: npm module</a></li>
  <li><a href="#lab-graphql-simple-client">Lab: GraphQL-Simple-Client</a></li>
  <li><a href="#references">References</a></li>
</ul>
          

            <div class="container"> 
                <h1> Clase  del Lunes 08/11/2021 (Semana C) </h1>
                <h2 id="exercises-on-asynchronous-js">Exercises on Asynchronous JS</h2>

<h3 id="comparing-performances-sync-vs-async-and-rest-vs-graphql-in-the-gh-org-members-extension">Comparing Performances: Sync vs Async and REST vs GraphQL in the gh-org-members extension</h3>

<p>V√©ase <a href="https://github.com/crguezl/gh-org-members/blob/main/gh-org-members.js">crguezl/gh-org-members/gh-org-members.js</a></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">REST Seq</th>
      <th style="text-align: center">REST Parallel</th>
      <th style="text-align: center">GraphQL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">12,754</td>
      <td style="text-align: center">3,3</td>
      <td style="text-align: center">1,5</td>
    </tr>
  </tbody>
</table>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre>// rest sequential branch: sequential
// 3,31s user 1,16s system 35% cpu 12,754 total
// 3,36s user 1,18s system 35% cpu 12,784 total

// REST parallel console.log at the end. branch print-at-the-end
// 2,84s user 1,11s system 122% cpu 3,218 total
// 2,73s user 1,08s system 119% cpu 3,193 total

// REST parallel: print as soon as it is available. branch: main
// 2,92s user 1,18s system 119% cpu 3,445 total
// 2,81s user 1,14s system 120% cpu 3,289 total

// GraphQL only for the username, parallel, print asap 
// 2,89s user 1,24s system 127% cpu 3,244 total
// 3,01s user 1,34s system 129% cpu 3,352 total

// GraphQL all 
// 0,32s user 0,17s system 32% cpu 1,505 total
// 0,34s user 0,18s system 35% cpu 1,499 total
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="in-the-gh-submodule-extension">In the gh-submodule extension</h3>

<p>Only unified the queries to check when the repo is empty</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">REST -n</th>
      <th style="text-align: center">GraphQL -n</th>
      <th style="text-align: center">REST</th>
      <th style="text-align: center">GraphQL</th>
      <th style="text-align: center">Parallel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">11,8</td>
      <td style="text-align: center">2,1</td>
      <td style="text-align: center">33,9</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">10,5</td>
    </tr>
  </tbody>
</table>

<h3 id="parallel-graphql">Parallel GraphQL</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center">1</th>
      <th style="text-align: center">2</th>
      <th style="text-align: center">4</th>
      <th style="text-align: center">5</th>
      <th style="text-align: center">6</th>
      <th style="text-align: center">7</th>
      <th style="text-align: center">8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">23,4</td>
      <td style="text-align: center">16,</td>
      <td style="text-align: center">11,</td>
      <td style="text-align: center">11,</td>
      <td style="text-align: center">10</td>
      <td style="text-align: center">12,4</td>
      <td style="text-align: center">12,</td>
    </tr>
  </tbody>
</table>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>graphql 

with 1 download -o ULL-MII-SYTWS-2122  1,64s user 0,63s system 31% cpu 7,297 total
with -n option nodownload -o ULL-MII-SYTWS-2122 0,39s user 0,15s system 26% cpu 2,040 total

16 repos no downloads 0,39s user 0,16s system 22% cpu 2,495 total
16 repos  downloaded 5,96s user 3,25s system 27% cpu 33,934 total

rest not unified request 

16 repos no download 2,33s user 0,83s system 26% cpu 11,815 total
16 repos  downloaded  5,83s user 3,17s system 25% cpu 35,026 total

</pre></td></tr></tbody></table></code></pre></div></div>

<p>Can‚Äôt parallelize the downloads of submodules with <code class="language-plaintext highlighter-rouge">git submodule</code> due to race conditions. <code class="language-plaintext highlighter-rouge">git</code> complains:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>Otro proceso git parece estar corriendo en el repositorio, es decir
un editor abierto con 'git commit'. Por favor aseg√∫rese de que todos los procesos
est√°n terminados y vuelve a intentar. Si el fallo permanece, un proceso git
puede haber roto el repositorio antes:
borra el archivo manualmente para continuar.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>However <code class="language-plaintext highlighter-rouge">git clone</code>can be done in parallel and so an idea to explore is to make a parallel battery of all <code class="language-plaintext highlighter-rouge">git clone</code>s
and later a <code class="language-plaintext highlighter-rouge">git submodule add</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>gh submodule-add -s aprender-markdown --org ULL-MFP-AET-2122  4,30s user 2,87s system 57% cpu 12,540 total 4 processes
gh submodule-add -s aprender-markdown --org ULL-MFP-AET-2122  4,29s user 2,82s system 80% cpu 8,783 total  8 processes
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="notes-about-the-lab-github-cli">Notes about the Lab ‚ÄúGitHub Cli‚Äù</h2>

<ul>
  <li><a href="/practicas/06p6-t1-gh-cli.html#extension">gh cli</a></li>
</ul>

<p>Some of you have already written a <a href="/tema1-introduccion/gh#extension">gh extension</a> using Node.JS. Let‚Äôs have a look at these.</p>

<p><strong>Instructions about the  delivery</strong>:</p>

<p>Create a repo for your extension in a repo <code class="language-plaintext highlighter-rouge">ULL-MII-SYTWS-2122/gh-my-extension-name</code>  inside the classroom organization <code class="language-plaintext highlighter-rouge">ULL-MII-SYTWS-2122</code>. Add that repo as a <code class="language-plaintext highlighter-rouge">git submodule</code> to the repo associated to this lab assignment. Just leave the link to the assignment and extensions repos in the campus virtual</p>

<h2 id="lab-graphql-simple-server">Lab: GraphQL-Simple-Server</h2>

<p>Continue studying the basics of express and GraphQL</p>

<ul>
  <li><a href="/practicas/graphql-simple-server/#resolvers">GraphQL-Simple-Server</a></li>
</ul>

<p>See the hello graphQL example at <a href="https://github.com/crguezl/learning-graphql-with-gh/tree/main/graphql-beginner-series">https://github.com/crguezl/learning-graphql-with-gh/tree/main/graphql-beginner-series</a></p>

<h2 id="lab-npm-module">Lab: npm module</h2>

<ul>
  <li><a href="/practicas/npm-module">npm module</a></li>
</ul>

<h2 id="lab-graphql-simple-client">Lab: GraphQL-Simple-Client</h2>

<ul>
  <li><a href="/practicas/graphql-simple-client/">GraphQL-Simple-Client</a></li>
</ul>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://graphql.org/learn/execution/">GraphQL: Execution</a></li>
</ul>

            </div>


                        
<h2>Comment with GitHub Utterances</h2>
            
<script src="https://utteranc.es/client.js"
        repo="ULL-MII-SYTWS/ull-mii-sytws.github.io"
        issue-term="pathname"
        label="SYTWS"
        theme="dark-blue"
        crossorigin="anonymous"
        async>
</script>
            



 
            
        </section>
    
    </div>


    
</body>

</html>
